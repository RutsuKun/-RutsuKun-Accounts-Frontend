<app-admin-page>
  <div class="rk_accounts__card">
    <div
      class="card__header flex flex-row justify-content-between align-items-center"
    >
      <div>
        <h2 class="my-0">Groups</h2>
        <div class="subtitle mt-2">List of all OAuth2 groups</div>
      </div>
      <button
        pButton
        class="p-button-sm bg-white text-black-alpha-90 font-bold uppercase"
        label="Create"
        disabled
      ></button>
    </div>
    <div class="card__content">
      <p-table
        styleClass="card-table"
        [value]="groups"
        dataKey="id"
        responsiveLayout="scroll"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th style="width: 6rem"></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-group>
          <tr>
            <td>
              <a [routerLink]="['/admin/groups/', group.uuid, 'overview']">{{
                group.display_name
              }}</a>
            </td>
            <td>todo</td>
            <td style="width: 6rem">
                <button (click)="menu.toggle($event)" pButton class="p-button-icon p-button-nano" icon="pi pi-ellipsis-v"></button>
                <p-menu #menu appendTo="body" [popup]="true" [model]="generateGroupMenu(group)"></p-menu>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="5">
              There are no groups assigned to this account yet.
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</app-admin-page>
