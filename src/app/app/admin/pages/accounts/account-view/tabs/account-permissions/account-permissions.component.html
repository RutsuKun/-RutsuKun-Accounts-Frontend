<p-table
  styleClass="card-table"
  [value]="permissions"
  dataKey="uuid"
  responsiveLayout="scroll"
>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 4rem">Name</th>
      <th>Assignment</th>
      <th style="width: 6rem"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-permission>
    <tr>
      <td style="width: 4rem">
        <code>{{ permission.name }}</code>
      </td>
      <td>
        <div class="flex flex-row flex-wrap" style="gap: 0.5rem;">
            <p-tag [severity]="getSourceTagColor(source)" *ngFor="let source of permission.sources">
                <div class="flex flex-column">
                    {{ getSourceName(source) }}
                    <span *ngIf="source.organization">Name: {{ source.organization.name }}</span>
                    <span *ngIf="source.account">Username: {{ source.account.username }}</span>
                    <span *ngIf="source.group">Name: {{ source.group.name }}</span>
                </div>
            </p-tag>
        </div>
      </td>

      <td style="width: 6rem">
        <div class="flex flex-row justify-content-end">
          <button
            pButton
            class="p-button-icon p-button-nano"
            icon="pi pi-trash"
          ></button>
        </div>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">There are no permissions assigned to this account yet.</td>
    </tr>
  </ng-template>
</p-table>